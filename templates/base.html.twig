<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}GreenManager{% endblock %}</title>
    <link rel="stylesheet" href="{{ asset('assets/css/bootstrap.min.css') }}">
    <!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

<!-- Animate.css -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <link rel="stylesheet" href="{{ asset('assets/css/dashboard.css') }}">
</head>
<body>
    <!-- Sidebar -->
    <nav class="sidebar">
        <ul>
            <li><a href="{{ path('app_home') }}">Accueil</a></li>
            <li><a href="{{ path('app_logout') }}">Déconnexion</a></li>
        </ul>
    </nav>
    <nav>
    <ul>{# notifications.html.twig #}

{% if app.user %}
    <div class="notifications">
        <h4>Vos notifications</h4>
        {% if app.user.notifications|length > 0 %}
            <ul>
                {% for notification in app.user.notifications %}
                    <li>
                        {{ notification.message }}
                        {% if not notification.isRead %}
                            <span class="badge bg-danger">Non lue</span>
                        {% endif %}
                        <small>{{ notification.createdAt|date('d/m/Y H:i') }}</small>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>Aucune notification pour le moment.</p>
        {% endif %}
    </div>
{% else %}
    {# Utilisateur non connecté #}
    <p>Vous n’êtes pas connecté.</p>
{% endif %}

    </ul>
</nav>


    <!-- Page Content -->
    <div class="content">
        {% block body %}{% endblock %}
    </div>

    <script src="{{ asset('assets/js/bootstrap.bundle.min.js') }}"></script>
    <script src="{{ asset('assets/js/dashboard.js') }}"></script>
</body>
</html>
